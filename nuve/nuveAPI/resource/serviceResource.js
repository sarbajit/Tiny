var serviceRegistry=require("./../mdb/serviceRegistry"),logger=require("./../logger").logger,log=logger.getLogger("ServiceResource"),superService=require("./../mdb/dataBase").superService,doInit=function(e,r){"use strict";var i=require("./../auth/nuveAuthenticator").service;i._id=i._id+"",i._id!==superService?r("error"):serviceRegistry.getService(e,function(e){r(e)})};exports.represent=function(e,r){"use strict";doInit(e.params.service,function(i){return"error"===i?(log.info("Service ",e.params.service," not authorized for this action"),void r.status(401).send("Service not authorized for this action")):void 0===i||null===i?void r.status(404).send("Service not found"):(log.info("Representing service ",i._id),void r.send(i))})},exports.deleteService=function(e,r){"use strict";doInit(e.params.service,function(i){if("error"===i)return log.info("Service ",e.params.service," not authorized for this action"),void r.status(401).send("Service not authorized for this action");if(void 0===i||null===i)return void r.status(404).send("Service not found");var t="";return t+=i._id,t===superService?void r.status(401).send("Super service not permitted to be deleted"):(serviceRegistry.removeService(t),log.info("Serveice ",t," deleted"),void r.send("Service deleted"))})};